webpackJsonp(["app/js/material-lib/ppt-player/index"],{"270a65613fa7b9d98ab9":function(e,t,n){"use strict";var r=n("f3c7e4fbf91afda92bf3"),l=function(e){return e&&e.__esModule?e:{default:e}}(r),a=$("#ppt-player"),o=a.data("params");new l.default({element:"#ppt-player",slides:o.images})},"63fff8fb24f3bd1f61cd":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("17c25dd7d9d2615bc1d9"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"delay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=function(){var e=arguments;setTimeout(function(){t.apply(self,[].concat(Array.prototype.slice.call(e)))},n)};return this.on(e,r)}},{key:"once",value:function(e,t){var n=this,r=function r(){t.apply(n,[].concat(Array.prototype.slice.call(arguments))),n.off(e,r)};return this.on(e,r)}}]),t}(s.default);t.default=c},"995fd6b94bb84942a975":function(e,t){!function(){"use strict";var t=void 0!==e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,l=n.length,a={};r<l;r++)if((e=n[r])&&e[1]in document){for(r=0,t=e.length;r<t;r++)a[n[0][r]]=e[r];return a}return!1}(),l={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():n?e[t](Element.ALLOW_KEYBOARD_INPUT):e[t]({navigationUI:"auto"})},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};if(!r)return void(t?e.exports=!1:window.screenfull=!1);Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),t?e.exports=l:window.screenfull=l}()},f3c7e4fbf91afda92bf3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("63fff8fb24f3bd1f61cd"),c=r(s),u=n("995fd6b94bb84942a975"),f=r(u),p=function(e){function t(e){var n=e.element,r=e.slides,o=e.watermark;l(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.element=$(n),i.slides=r||[],i.watermark=o||"",i._KEY_ACTION_MAP={37:i._onPrev,39:i._onNext,38:i._onLast,40:i._onFirst},i.total=i.slides.length,i._page=0,i.placeholder="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",i._init(),i}return o(t,e),i(t,[{key:"_render",value:function(){this.element.html('\n      <div class="slide-player">\n        <div class="slide-player-body loading-background"></div>\n        <div class="slide-notice">\n          <div class="header">{{ \'site.data_last_picture\'|trans }}\n            <button type="button" class="close">Ã—</button>\n          </div>\n        </div>\n      \n        <div class="slide-player-control clearfix">\n          <a href="javascript:" class="goto-first">\n            <span class="glyphicon glyphicon-step-backward"></span>\n          </a>\n          <a href="javascript:" class="goto-prev">\n            <span class="glyphicon glyphicon-chevron-left"></span>\n          </a>\n          <a href="javascript:" class="goto-next">\n            <span class="glyphicon glyphicon-chevron-right"></span>\n          </a>\n          <a href="javascript:" class="goto-last">\n            <span class="glyphicon glyphicon-step-forward"></span>\n          </a>\n          <a href="javascript:" class="fullscreen">\n            <span class="glyphicon glyphicon-fullscreen"></span>\n          </a>\n          <div class="goto-page-input">\n            <input type="text" class="goto-page form-control input-sm" value="1">&nbsp;/&nbsp;\n              <span class="total"></span>\n          </div>\n        </div>\n      </div>'),this.element.find(".total").text(this.total);var e=this.slides.reduce(function(e,t,n){return e+='<img data-src="'+t+'" class="slide" data-page="'+(n+1)+'">'},"");this.element.find(".slide-player-body").html(e),this.watermark&&this.element.append('<div class="slide-player-watermark">'+this.watermark+"</div>")}},{key:"_init",value:function(){this._render(),this._bindEvents(),this._onFirst()}},{key:"_lazyLoad",value:function(e){for(var t=e;t<e+4&&!(t>this.total);t++){var n=this._getSlide(t);n.attr("src")||n.attr("src",n.data("src"))}}},{key:"_getSlide",value:function(e){return this.element.find(".slide-player-body .slide").eq(e-1)}},{key:"_bindEvents",value:function(){var e=this;$(document).on("keydown",function(t){e._KEY_ACTION_MAP[t.keyCode]&&e._KEY_ACTION_MAP[t.keyCode].call(e)}),this.element.on("click",".goto-next",function(t){return e._onNext(t)}),this.element.on("click",".goto-prev",function(t){return e._onPrev(t)}),this.element.on("click",".goto-first",function(t){return e._onFirst(t)}),this.element.on("click",".goto-last",function(t){return e._onLast(t)}),this.element.on("click",".fullscreen",function(t){return e._onFullScreen(t)}),this.element.on("change",".goto-page",function(t){return e._onChangePage(t)});var t=this;this.on("change",function(n){var r=n.current;n.before;r==t.total&&t.emit("end",{page:e.total})})}},{key:"_onNext",value:function(){if(this.page===this.total)return void this.emit("end",{page:this.total});this.page++}},{key:"_onPrev",value:function(){1!=this.page&&this.page--}},{key:"_onFirst",value:function(){this.page=1}},{key:"_onLast",value:function(){this.page=this.total}},{key:"_onFullScreen",value:function(){f.default.enabled&&(f.default.isFullscreen?f.default.toggle():f.default.request())}},{key:"_onChangePage",value:function(e){this.page=$(e.target).val()}},{key:"page",get:function(){return this._page},set:function(e){var t=this,n=this.page,r=e;r>this.total&&(this.element.find(".goto-page").val(r),this._page=r),r<1&&(this.element.find(".goto-page").val(n),this._page=n),n&&this.element.find(".slide-player-body .slide").eq(n-1).removeClass("active");var l=this._getSlide(r);l.attr("src")?l.addClass("active"):(l.load(function(){t._page==l.data("page")&&l.addClass("active")}),l.attr("src",l.data("src"))),this._lazyLoad(r),this.element.find(".goto-page").val(r),this._page=r,this.emit("change",{current:r,before:n})}}]),t}(c.default);t.default=p}},["270a65613fa7b9d98ab9"]);